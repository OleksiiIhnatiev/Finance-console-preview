import{b as h,c as l,d as E,e as S,g as D,h as x,i as I,j as R,n as N,o as T,p as V,r as A}from"./chunk-TBWVQWVQ.js";import{k as _,l as b,n as y}from"./chunk-LCBKTPO3.js";import{$a as r,Ea as F,Ja as c,Qa as o,Sa as i,Ta as t,Za as s,bb as C,hb as f,jb as v,ua as n,za as g}from"./chunk-DYTTO7CO.js";function P(p,e){p&1&&(i(0,"div",13),r(1," \u0421\u0443\u043C\u0430 \u043C\u0430\u0454 \u0431\u0443\u0442\u0438 \u0432\u0456\u0434 1000 \u0434\u043E 50000 \u0433\u0440\u043D. "),t())}function G(p,e){p&1&&(i(0,"div",13),r(1," \u041F\u0435\u0440\u0456\u043E\u0434 \u043C\u0430\u0454 \u0431\u0443\u0442\u0438 \u0432\u0456\u0434 7 \u0434\u043E 60 \u0434\u043D\u0456\u0432. "),t())}var B=class p{constructor(e){this.fb=e;this.creditForm=this.fb.group({amount:[1e3,[l.required,l.min(1e3),l.max(5e4)]],period:[7,[l.required,l.min(7),l.max(60)]]}),this.creditForm.valueChanges.subscribe(()=>this.updateCalculations())}creditForm;dailyPayment=0;totalRepayment=0;updateCalculations(){if(this.creditForm.valid){let e=this.creditForm.get("amount")?.value,m=this.creditForm.get("period")?.value,a=e*(2.2/100)*m;this.totalRepayment=e+a,this.dailyPayment=this.totalRepayment/m}}updateAmountFromRange(e){this.creditForm.get("amount")?.setValue(e.target.value,{emitEvent:!1}),this.updateCalculations()}updatePeriodFromRange(e){this.creditForm.get("period")?.setValue(e.target.value,{emitEvent:!1}),this.updateCalculations()}get amountInvalid(){let e=this.creditForm.get("amount");return e?.invalid&&e?.touched}get periodInvalid(){let e=this.creditForm.get("period");return e?.invalid&&e?.touched}onSubmit(){this.creditForm.valid&&console.log("\u0424\u043E\u0440\u043C\u0430 \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0430:",this.creditForm.value)}static \u0275fac=function(m){return new(m||p)(g(V))};static \u0275cmp=F({type:p,selectors:[["app-credit-calculator"]],decls:31,vars:26,consts:[[1,"container","py-5"],[1,"text-center","mb-4"],[1,"mx-auto",2,"max-width","500px",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","amount",1,"form-label"],["id","amount","type","number","formControlName","amount",1,"form-control",3,"input","min","max","step"],["type","range",1,"form-range","mt-2",3,"input","min","max","step","value"],["class","text-danger mt-2",4,"ngIf"],["for","period",1,"form-label"],["id","period","type","number","formControlName","period",1,"form-control",3,"input","min","max","step"],[1,"bg-light","p-3","rounded-3","shadow-sm","mb-3"],[1,"text-success","fw-bold"],["type","submit",1,"btn","btn-dark","w-100","py-2",3,"disabled"],[1,"text-danger","mt-2"]],template:function(m,u){if(m&1&&(i(0,"div",0)(1,"h2",1),r(2,"\u041E\u0442\u0440\u0438\u043C\u0430\u0442\u0438 \u043A\u0440\u0435\u0434\u0438\u0442"),t(),i(3,"form",2),s("ngSubmit",function(){return u.onSubmit()}),i(4,"div",3)(5,"label",4),r(6,"\u0421\u0443\u043C\u0430 \u043A\u0440\u0435\u0434\u0438\u0442\u0443 (\u0433\u0440\u043D):"),t(),i(7,"input",5),s("input",function(){return u.updateCalculations()}),t(),i(8,"input",6),s("input",function(d){return u.updateAmountFromRange(d)}),t(),c(9,P,2,0,"div",7),t(),i(10,"div",3)(11,"label",8),r(12,"\u041F\u0435\u0440\u0456\u043E\u0434 \u043F\u043E\u0433\u0430\u0448\u0435\u043D\u043D\u044F (\u0434\u043D\u0456\u0432):"),t(),i(13,"input",9),s("input",function(){return u.updateCalculations()}),t(),i(14,"input",6),s("input",function(d){return u.updatePeriodFromRange(d)}),t(),c(15,G,2,0,"div",7),t(),i(16,"div",10)(17,"p")(18,"strong"),r(19,"\u0414\u0435\u043D\u0435\u0436\u043D\u0438\u0439 \u043F\u043B\u0430\u0442\u0456\u0436 \u0432 \u0434\u0435\u043D\u044C (DR): "),t(),i(20,"span",11),r(21),f(22,"number"),t()(),i(23,"p")(24,"strong"),r(25,"\u0417\u0430\u0433\u0430\u043B\u044C\u043D\u0430 \u0441\u0443\u043C\u0430 \u043F\u043E\u0433\u0430\u0448\u0435\u043D\u043D\u044F (TR): "),t(),i(26,"span",11),r(27),f(28,"number"),t()()(),i(29,"button",12),r(30," \u041E\u0442\u0440\u0438\u043C\u0430\u0442\u0438 \u043A\u0440\u0435\u0434\u0438\u0442 "),t()()()),m&2){let a,d;n(3),o("formGroup",u.creditForm),n(4),o("min",1e3)("max",5e4)("step",100),n(),o("min",1e3)("max",5e4)("step",100)("value",(a=u.creditForm.get("amount"))==null?null:a.value),n(),o("ngIf",u.amountInvalid),n(4),o("min",7)("max",60)("step",1),n(),o("min",7)("max",60)("step",1)("value",(d=u.creditForm.get("period"))==null?null:d.value),n(),o("ngIf",u.periodInvalid),n(6),C("",v(22,20,u.dailyPayment,"1.0-2")," \u0433\u0440\u043D"),n(6),C("",v(28,23,u.totalRepayment,"1.0-2")," \u0433\u0440\u043D"),n(2),o("disabled",u.creditForm.invalid)}},dependencies:[y,_,b,A,D,h,x,E,S,T,N,I,R],encapsulation:2})};export{B as CreditCalculatorComponent};
